$PBExportHeader$w_rh406_rpt_gen_trab.srw
forward
global type w_rh406_rpt_gen_trab from w_abc
end type
type tab_1 from tab within w_rh406_rpt_gen_trab
end type
type tp_1 from userobject within tab_1
end type
type dw_report from u_dw_abc within tp_1
end type
type tp_1 from userobject within tab_1
dw_report dw_report
end type
type tp_2 from userobject within tab_1
end type
type dw_selected from u_dw_abc within tp_2
end type
type dw_lista from u_dw_abc within tp_2
end type
type pb_4 from picturebutton within tp_2
end type
type pb_3 from picturebutton within tp_2
end type
type pb_2 from picturebutton within tp_2
end type
type pb_1 from picturebutton within tp_2
end type
type tp_2 from userobject within tab_1
dw_selected dw_selected
dw_lista dw_lista
pb_4 pb_4
pb_3 pb_3
pb_2 pb_2
pb_1 pb_1
end type
type tp_3 from userobject within tab_1
end type
type rb_todos from radiobutton within tp_3
end type
type rb_inactivos from radiobutton within tp_3
end type
type rb_activos from radiobutton within tp_3
end type
type rb_ningun_estado from radiobutton within tp_3
end type
type ddlb_banco from u_ddlb_lista within tp_3
end type
type cbx_banco from checkbox within tp_3
end type
type rb_viudo from radiobutton within tp_3
end type
type rb_todo_estado from radiobutton within tp_3
end type
type rb_divorciado from radiobutton within tp_3
end type
type rb_casado from radiobutton within tp_3
end type
type rb_soltero from radiobutton within tp_3
end type
type rb_todo_sexo from radiobutton within tp_3
end type
type rb_femenino from radiobutton within tp_3
end type
type rb_masculino from radiobutton within tp_3
end type
type p_9 from picture within tp_3
end type
type ddlb_origen from u_ddlb_lista within tp_3
end type
type cbx_fec_afp from checkbox within tp_3
end type
type cbx_fec_cese from checkbox within tp_3
end type
type cbx_fec_contrato from checkbox within tp_3
end type
type cbx_fec_nacimiento from checkbox within tp_3
end type
type p_8 from picture within tp_3
end type
type p_6 from picture within tp_3
end type
type p_2 from picture within tp_3
end type
type p_1 from picture within tp_3
end type
type uo_fec_cese from u_rango_fechas within tp_3
end type
type uo_fec_afp from u_rango_fechas within tp_3
end type
type uo_fec_contrato from u_rango_fechas within tp_3
end type
type uo_fec_nacimiento from u_rango_fechas within tp_3
end type
type cbx_tipo_trabajador from checkbox within tp_3
end type
type ddlb_tipo_trabajador from u_ddlb_lista within tp_3
end type
type p_5 from picture within tp_3
end type
type p_4 from picture within tp_3
end type
type cbx_origen from checkbox within tp_3
end type
type p_3 from picture within tp_3
end type
type rb_tarjeta_todos from radiobutton within tp_3
end type
type rb_tarjeta_si from radiobutton within tp_3
end type
type rb_tarjeta_no from radiobutton within tp_3
end type
type p_14 from picture within tp_3
end type
type cbx_secciones from checkbox within tp_3
end type
type ddlb_areas from u_ddlb_lista within tp_3
end type
type ddlb_secciones from u_ddlb_lista within tp_3
end type
type p_10 from picture within tp_3
end type
type cbx_centros_costo from checkbox within tp_3
end type
type ddlb_cencos_niv1 from u_ddlb_lista within tp_3
end type
type ddlb_centros_costo from u_ddlb_lista within tp_3
end type
type p_11 from picture within tp_3
end type
type rb_afp_todos from radiobutton within tp_3
end type
type rb_afp_si from radiobutton within tp_3
end type
type rb_afp_no from radiobutton within tp_3
end type
type p_13 from picture within tp_3
end type
type cbx_afp from checkbox within tp_3
end type
type ddlb_afp from u_ddlb_lista within tp_3
end type
type p_7 from picture within tp_3
end type
type cbx_trabajador from checkbox within tp_3
end type
type gb_11 from groupbox within tp_3
end type
type gb_9 from groupbox within tp_3
end type
type gb_7 from groupbox within tp_3
end type
type gb_5 from groupbox within tp_3
end type
type gb_4 from groupbox within tp_3
end type
type gb_2 from groupbox within tp_3
end type
type gb_8 from groupbox within tp_3
end type
type gb_1 from groupbox within tp_3
end type
type gb_10 from groupbox within tp_3
end type
type gb_12 from groupbox within tp_3
end type
type gb_14 from groupbox within tp_3
end type
type dw_trabajador from datawindow within tp_3
end type
type gb_6 from groupbox within tp_3
end type
type gb_13 from groupbox within tp_3
end type
type gb_15 from groupbox within tp_3
end type
type gb_16 from groupbox within tp_3
end type
type tp_3 from userobject within tab_1
rb_todos rb_todos
rb_inactivos rb_inactivos
rb_activos rb_activos
rb_ningun_estado rb_ningun_estado
ddlb_banco ddlb_banco
cbx_banco cbx_banco
rb_viudo rb_viudo
rb_todo_estado rb_todo_estado
rb_divorciado rb_divorciado
rb_casado rb_casado
rb_soltero rb_soltero
rb_todo_sexo rb_todo_sexo
rb_femenino rb_femenino
rb_masculino rb_masculino
p_9 p_9
ddlb_origen ddlb_origen
cbx_fec_afp cbx_fec_afp
cbx_fec_cese cbx_fec_cese
cbx_fec_contrato cbx_fec_contrato
cbx_fec_nacimiento cbx_fec_nacimiento
p_8 p_8
p_6 p_6
p_2 p_2
p_1 p_1
uo_fec_cese uo_fec_cese
uo_fec_afp uo_fec_afp
uo_fec_contrato uo_fec_contrato
uo_fec_nacimiento uo_fec_nacimiento
cbx_tipo_trabajador cbx_tipo_trabajador
ddlb_tipo_trabajador ddlb_tipo_trabajador
p_5 p_5
p_4 p_4
cbx_origen cbx_origen
p_3 p_3
rb_tarjeta_todos rb_tarjeta_todos
rb_tarjeta_si rb_tarjeta_si
rb_tarjeta_no rb_tarjeta_no
p_14 p_14
cbx_secciones cbx_secciones
ddlb_areas ddlb_areas
ddlb_secciones ddlb_secciones
p_10 p_10
cbx_centros_costo cbx_centros_costo
ddlb_cencos_niv1 ddlb_cencos_niv1
ddlb_centros_costo ddlb_centros_costo
p_11 p_11
rb_afp_todos rb_afp_todos
rb_afp_si rb_afp_si
rb_afp_no rb_afp_no
p_13 p_13
cbx_afp cbx_afp
ddlb_afp ddlb_afp
p_7 p_7
cbx_trabajador cbx_trabajador
gb_11 gb_11
gb_9 gb_9
gb_7 gb_7
gb_5 gb_5
gb_4 gb_4
gb_2 gb_2
gb_8 gb_8
gb_1 gb_1
gb_10 gb_10
gb_12 gb_12
gb_14 gb_14
dw_trabajador dw_trabajador
gb_6 gb_6
gb_13 gb_13
gb_15 gb_15
gb_16 gb_16
end type
type tab_1 from tab within w_rh406_rpt_gen_trab
tp_1 tp_1
tp_2 tp_2
tp_3 tp_3
end type
type gb_3 from groupbox within w_rh406_rpt_gen_trab
end type
end forward

global type w_rh406_rpt_gen_trab from w_abc
integer width = 3493
integer height = 2012
string title = "[RH406] Datos de Trabajadores"
string menuname = "m_impresion"
windowstate windowstate = maximized!
event ue_saveas ( )
tab_1 tab_1
gb_3 gb_3
end type
global w_rh406_rpt_gen_trab w_rh406_rpt_gen_trab

type variables
string is_old_sql
end variables

forward prototypes
public subroutine of_nada ()
public subroutine of_pass_list (datawindow adwi_desde, datawindow adwi_hasta)
end prototypes

event ue_saveas();//Overrding
string ls_path, ls_file
int li_rc

li_rc = GetFileSaveName ( "Select File", &
   ls_path, ls_file, "XLS", &
   "All Files (*.*),*.*" , "C:\", 32770)

IF li_rc = 1 Then
   uf_save_dw_as_excel ( tab_1.tp_1.dw_report, ls_file )
End If

end event

public subroutine of_nada ();
end subroutine

public subroutine of_pass_list (datawindow adwi_desde, datawindow adwi_hasta);string ls_nombre, ls_columna, ls_sort
long ll_desde_row, ll_desde_tot, ll_inserted

ll_desde_row = adwi_desde.getrow( )

if ll_desde_row < 1 then return

ls_nombre = adwi_desde.object.nombre[ll_desde_row]
ls_columna = adwi_desde.object.columna[ll_desde_row] 

ll_inserted = adwi_hasta.insertrow(0)

if ll_inserted < 1 then return

adwi_hasta.object.nombre[ll_inserted] = ls_nombre
adwi_hasta.object.columna[ll_inserted] = ls_columna

ls_sort = 'nombre asc'

adwi_desde.setsort( ls_sort )
adwi_desde.sort( )

adwi_hasta.setsort( ls_sort )
adwi_hasta.sort( )

adwi_desde.deleterow( ll_desde_row )

ll_desde_tot =  adwi_desde.rowcount( )

if ll_desde_row >= ll_desde_tot then ll_desde_row = ll_desde_row - 1

adwi_desde.selectrow( 0 , false)
adwi_desde.setrow( ll_desde_row )
adwi_desde.scrolltorow( ll_desde_row )
adwi_desde.selectrow( ll_desde_row , true)

adwi_hasta.selectrow( 0 , false)
adwi_hasta.setrow( ll_inserted )
adwi_hasta.scrolltorow( ll_inserted )
adwi_hasta.selectrow( ll_inserted, true)
end subroutine

on w_rh406_rpt_gen_trab.create
int iCurrent
call super::create
if this.MenuName = "m_impresion" then this.MenuID = create m_impresion
this.tab_1=create tab_1
this.gb_3=create gb_3
iCurrent=UpperBound(this.Control)
this.Control[iCurrent+1]=this.tab_1
this.Control[iCurrent+2]=this.gb_3
end on

on w_rh406_rpt_gen_trab.destroy
call super::destroy
if IsValid(MenuID) then destroy(MenuID)
destroy(this.tab_1)
destroy(this.gb_3)
end on

event resize;call super::resize;tab_1.height =  newheight - tab_1.y - 10
tab_1.width = newwidth - tab_1.x - 10

tab_1.tp_1.dw_report.height =  newheight - tab_1.tp_1.dw_report.y - 150
tab_1.tp_1.dw_report.width =  newwidth - tab_1.tp_1.dw_report.x - 150

tab_1.tp_2.dw_lista.height =  newheight - tab_1.tp_2.dw_lista.y - 150
tab_1.tp_2.dw_selected.height =  newheight - tab_1.tp_2.dw_selected.y - 150
end event

event ue_open_pre;call super::ue_open_pre;tab_1.tp_2.dw_lista.SetTransObject(sqlca)
tab_1.tp_2.dw_selected.SetTransObject(sqlca)
tab_1.tp_1.dw_report.SetTransObject(sqlca)
tab_1.tp_3.dw_trabajador.SetTransObject(sqlca)

delete from tt_rh_ficha_maestro_select;
delete from tt_rh_ficha_maestro_select_select;

Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '01' , 'Código' , 'codigo');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '02' , 'Apellido Paterno' , 'paterno');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '03' , 'Apellido Materno' ,'materno');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '04' , 'Nombre 1' , 'nombre1');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '05' , 'Nombre 2' , 'nombre2');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '06' , 'Estado Civil' , 'estado_civil');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '07' , 'Calcula Planilla ' , 'planilla');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '08' , 'Sindicato' , 'sindicato');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '09' , 'Estado' , 'estado');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '10' , 'Fecha de Ingreso' , 'ingreso');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '11' , 'Fecha de Nacimiento' , 'nacimiento');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '12' , 'Fecha de Cese' , 'cese');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '13' , 'Motivo de Cese' , 'motivo_cese');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '14' , 'Sexo' , 'sexo');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '15' , 'Dirección' , 'direccion_postal');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '16' , 'Código de Ciudad' , 'disc_ciu');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '17' , 'Teléfono 1' , 'tel_princ');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '18' , 'Teléfono 2' , 'tel_sec');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '19' , 'Doc. Identidad' , 'dni');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '20' , 'Libreta Militar' , 'lib_milit');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '21' , 'RUC' , 'ruc');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '22' , 'Correo Electrónico' , 'correo_electronico');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '23' , 'Tipo de Brevete' , 'tipo_brevete');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '24' , 'Número de Brevete' , 'nro_brevete');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '25' , 'Carnet' , 'carnet');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '26' , 'Nro Seguro Social' , 'seguro_social');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '27' , 'Grado de Instrucción' , 'grado_instruccion');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '28' , 'Profesión' , 'profesion');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '29' , 'Cargo' , 'cargo');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '30' , 'Situación del Contrato' , 'situacion_trabajador');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '31' , 'AFP' , 'afp');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '32' , 'Número de AFP' , 'nro_afp');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '33' , 'Inicio AFP' , 'ini_afp');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '34' , 'Fin AFP' , 'fin_afp');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '35' , 'Porcentaje Judicial' , 'judicial');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '36' , 'Bonificación Fija' , 'bonificacion_fija');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '37' , 'Calcula Quincena' , 'quincena');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '38' , 'Tipo de Trabajador' , 'tipo_trabajador');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '39' , 'Nro. Cnta. Ahorros' , 'nro_cnta_ahorro');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '40' , 'Nro. Cnta. CTS' , 'nro_cnta_cts');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '41' , 'Moneda Ahorros' , 'moneda_ahorros');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '42' , 'Empresa' , 'empresa');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '43' , 'Labor' , 'labor');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '44' , 'Centro de Costo' , 'centro_costo');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '45' , 'Banco Ahorros' , 'banco_ahorro');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '46' , 'Moneda CTS' , 'monedacts');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '47' , 'Banco CTS' , 'banco_cts');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '48' , 'Tipo de Sangre' , 'tipo_sangre');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '49' , 'Categoría Salarial' , 'categoria_salarial');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '50' , 'Area' , 'area');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '51' , 'Seccion' , 'seccion');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '52' , 'País' , 'pais');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '53' , 'Departamento' , 'departamento');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '54' , 'Provincia' , 'provincia');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '55' , 'Distrito' , 'distrito');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '56' , 'Ciudad' , 'ciudad');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '57' , 'Tipo de vivienda' , 'vivienda');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '57' , 'Turno' , 'turno');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '58' , 'Marca Reloj' , 'marca_reloj');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '59' , 'Convenio' , 'convenio');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '60' , 'Calcula Sobretiempo' , 'calcula_sobretirmpo');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '61' , 'Origen', 'origen');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '62' , 'Centro de beneficio', 'desc_centro_benef');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '63' , 'Categoria de trabajador', 'categ_trabajador');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '64' , 'Tipo de pensión', 'desc_tipo_pension');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '65' , 'Regimen laboral', 'regimen_laboral');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '66' , 'Situacion EPS', 'desc_situac_eps');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '67' , 'Tipo de trabajador RTPS', 'desc_tipo_trabaj');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '68' , 'Descripción EPS', 'desc_eps');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '69' , 'Pension', 'desc_reg_pension');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '70' , 'Tipo contrato', 'desc_tipo_contrato');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '71' , 'Estado civil RTPS', 'desc_estado_civil');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '72' , 'Essalud vida', 'flag_essalud_vida');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '73' , 'Sctr salud', 'flag_sctr_salud');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '74' , 'Domiciliado', 'flag_domiciliado');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '75' , 'Via', 'desc_via');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '76' , 'Nombre vía', 'nombre_via');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '77' , 'Número vía', 'numero_via');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '78' , 'Interior', 'interior');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '79' , 'Zona', 'desc_zona');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '80' , 'Nombre zona', 'nombre_zona');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '81' , 'Nombre vía', 'nombre_via');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '82' , 'Periodo remuneracion', 'desc_periodo_renum');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '83' , 'Modo de pago', 'desc_mod_pago_rtps');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '84' , 'Ocupacion rtps', 'desc_ocupacion');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '85' , 'Sctr pension', 'flag_sctr_pension');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '86' , 'Turno asistencia', 'turno_asist');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '87' , 'Pensionista', 'flag_pensionista');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '88' , 'Sujeto control', 'flag_sujeto_control');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '89' , 'Pais nacimiento', 'nom_pais');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '90' , 'Departamento nacimiento', 'desc_dpto');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '91' , 'Provincia nacimiento', 'desc_prov');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '92' , 'Distrito nacimiento', 'desc_distrito');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '93' , 'Afiliado EPS', 'flag_afiliado_eps');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '94' , 'Exonerado quinta', 'flag_quinta_exonerado');
Insert into tt_rh_ficha_maestro_select (codigo, nombre, columna) values ( '99' , 'Seguro medico', 'flag_seguro_medido');



tab_1.tp_2.dw_lista.retrieve()
tab_1.tp_2.dw_selected.retrieve()

tab_1.tp_2.dw_lista.setsort( "nombre asc" )
tab_1.tp_2.dw_lista.sort( )

tab_1.tp_2.dw_selected.setsort( "nombre asc" )
tab_1.tp_2.dw_selected.sort( )

tab_1.tp_2.dw_lista.of_protect()

idw_1 = tab_1.tp_1.dw_report
idw_1.of_protect( )

tab_1.tp_3.dw_trabajador.insertrow(0)

is_old_sql = idw_1.getsqlselect( )
end event

event ue_query_retrieve;//override
long ll_row, ll_lista, ll_selected, ll_report, ll_trabajador
string ls_campo, ls_columna, ls_modify, ls_new_sql, ls_ini, ls_fin, ls_cod_trabajador

idw_1.reset( )

ll_selected = tab_1.tp_2.dw_selected.rowcount( )
ll_lista = tab_1.tp_2.dw_lista.rowcount( )

if ll_selected < 1 then return

//messagebox('SQL OLD', is_old_sql)

ls_new_sql = is_old_sql + " where cod_origen in (select distinct cod_origen from ot_adm_origen o inner join  ot_adm_usuario u on o.ot_adm = u.ot_adm where  u.cod_usr = '"+ trim(gs_user) +"')"

if tab_1.tp_3.cbx_origen.checked = false then
	ls_new_sql = ls_new_sql + " and cod_origen = '" + trim(right(tab_1.tp_3.ddlb_origen.text, 2)) + "' "
end if

if tab_1.tp_3.cbx_tipo_trabajador.checked = false then
	ls_new_sql = ls_new_sql + " and cod_tipo_trabajador = '" + trim(right(tab_1.tp_3.ddlb_tipo_trabajador.text, 3)) + "' "
end if

if tab_1.tp_3.cbx_secciones.checked = false then
	ls_new_sql = ls_new_sql + " and cod_area = '" + trim(right(tab_1.tp_3.ddlb_areas.text, 1)) + "' "
	ls_new_sql = ls_new_sql + " and cod_seccion = '" + trim(right(tab_1.tp_3.ddlb_secciones.text, 3)) + "' "
end if

if tab_1.tp_3.cbx_centros_costo.checked = false then
	ls_new_sql = ls_new_sql + " and cencos = '" + trim(right(tab_1.tp_3.ddlb_centros_costo.text, 10)) + "' "
end if

if tab_1.tp_3.cbx_fec_nacimiento.checked = true then
	ls_ini = "to_date('" + string(tab_1.tp_3.uo_fec_nacimiento.of_get_fecha1( ), 'dd/mm/yyyy') + "', 'dd/mm/yyyy') "
	ls_fin = "to_date('" + string(tab_1.tp_3.uo_fec_nacimiento.of_get_fecha2( ), 'dd/mm/yyyy') + "', 'dd/mm/yyyy') "
	ls_new_sql = ls_new_sql + " and fec_nacimiento between " + ls_ini + " and " + ls_fin
end if

if tab_1.tp_3.cbx_fec_contrato.checked = true then
	ls_ini = "to_date('" + string(tab_1.tp_3.uo_fec_contrato.of_get_fecha1( ), 'dd/mm/yyyy') + "', 'dd/mm/yyyy') "
	ls_fin = "to_date('" + string(tab_1.tp_3.uo_fec_contrato.of_get_fecha2( ), 'dd/mm/yyyy') + "', 'dd/mm/yyyy') "
	ls_new_sql = ls_new_sql + " and fec_ingreso between " + ls_ini + " and " + ls_fin
end if

if tab_1.tp_3.cbx_fec_cese.checked = true then
	ls_ini = "to_date('" + string(tab_1.tp_3.uo_fec_cese.of_get_fecha1( ), 'dd/mm/yyyy') + "', 'dd/mm/yyyy') "
	ls_fin = "to_date('" + string(tab_1.tp_3.uo_fec_cese.of_get_fecha2( ), 'dd/mm/yyyy') + "', 'dd/mm/yyyy') "
	ls_new_sql = ls_new_sql + " and fec_cese between " + ls_ini + " and " + ls_fin
end if

if tab_1.tp_3.cbx_fec_afp.checked = true then
	ls_ini = "to_date('" + string(tab_1.tp_3.uo_fec_afp.of_get_fecha1( ), 'dd/mm/yyyy') + "', 'dd/mm/yyyy') "
	ls_fin = "to_date('" + string(tab_1.tp_3.uo_fec_afp.of_get_fecha2( ), 'dd/mm/yyyy') + "', 'dd/mm/yyyy') "
	ls_new_sql = ls_new_sql + " and fec_ini_afil_afp between " + ls_ini + " and " + ls_fin
end if

if tab_1.tp_3.cbx_afp.checked = false then
	ls_new_sql = ls_new_sql + " and cod_afp = '" + trim(right(tab_1.tp_3.ddlb_afp.text, 2)) + "' "
end if

if tab_1.tp_3.cbx_trabajador.checked = false then
	ll_trabajador = tab_1.tp_3.dw_trabajador.getrow( )
	if ll_trabajador > 0 then
		ls_cod_trabajador = tab_1.tp_3.dw_trabajador.object.cod_trabajador[ll_trabajador]
		
		if Not(isnull(ls_cod_trabajador) or trim(ls_cod_trabajador) = '') then
			ls_new_sql = ls_new_sql + " and cod_trabajador = '" + trim(ls_cod_trabajador) + "' "
		end if
		
		
	end if
	
end if

if tab_1.tp_3.rb_activos.checked then
	ls_new_sql = ls_new_sql + " and flag_estado = '" + '1' + "' "	
elseif tab_1.tp_3.rb_inactivos.checked then
	ls_new_sql = ls_new_sql + " and flag_estado = '" + '0' + "' "		
elseif tab_1.tp_3.rb_todos.checked then
	ls_new_sql = ls_new_sql + " and flag_estado in ('" + '1' + "','"+'0'+"')"		
end if



if tab_1.tp_3.rb_tarjeta_no.checked = true then
	ls_new_sql = ls_new_sql + " and (nro_cnta_ahorro is null or trim(nro_cnta_ahorro) = '')"
elseif tab_1.tp_3.rb_tarjeta_si.checked = true then
	ls_new_sql = ls_new_sql + " and nro_cnta_ahorro is not null"
end if

if tab_1.tp_3.rb_afp_no.checked = true then
	ls_new_sql = ls_new_sql + " and (nro_afp is null or trim(nro_cnta_ahorro) = '')"
elseif tab_1.tp_3.rb_afp_si.checked = true then
	ls_new_sql = ls_new_sql + " and nro_afp is not null"
end if

if tab_1.tp_3.cbx_banco.checked = true then
	ls_new_sql = ls_new_sql + " and cod_banco = '" + trim(right(tab_1.tp_3.ddlb_banco.text, 3)) + "' "
end if

if tab_1.tp_3.rb_masculino.checked = true then
	ls_new_sql = ls_new_sql + " and flag_sexo = 'M' "
elseif tab_1.tp_3.rb_femenino.checked = true then
	ls_new_sql = ls_new_sql + " and flag_sexo = 'F' "
end if

if tab_1.tp_3.rb_soltero.checked = true then
	ls_new_sql = ls_new_sql + " and flag_estado_civil = 'S' "
elseif tab_1.tp_3.rb_casado.checked = true then
	ls_new_sql = ls_new_sql + " and flag_estado_civil = 'C' "
elseif tab_1.tp_3.rb_divorciado.checked = true then
	ls_new_sql = ls_new_sql + " and flag_estado_civil = 'D' "
elseif tab_1.tp_3.rb_viudo.checked = true then
	ls_new_sql = ls_new_sql + " and flag_estado_civil = 'V' "
elseif tab_1.tp_3.rb_ningun_estado.checked = true then
	ls_new_sql = ls_new_sql + " and flag_estado_civil not in ('S', 'C', 'D', 'V') "
end if





idw_1.setsqlselect( ls_new_sql )

idw_1.settransobject( sqlca )


ll_report = idw_1.retrieve( )

if ll_report < 1 then return
	
for ll_row = 1 to ll_selected
	ls_columna = tab_1.tp_2.dw_selected.object.columna[ll_row]
	ls_modify = ls_columna + ".visible = true"
	tab_1.tp_1.dw_report.modify(ls_modify)
next

for ll_row = 1 to ll_lista
	ls_columna = tab_1.tp_2.dw_lista.object.columna[ll_row]
	ls_modify = trim(ls_columna) + ".visible = false"
	tab_1.tp_1.dw_report.modify(ls_modify)
	ls_modify = trim(ls_columna) + "_t.visible = false"
	tab_1.tp_1.dw_report.modify(ls_modify)
next


end event

event ue_print;call super::ue_print;idw_1.print( )
end event

type tab_1 from tab within w_rh406_rpt_gen_trab
integer width = 3433
integer height = 1512
integer taborder = 10
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long backcolor = 79741120
boolean raggedright = true
boolean focusonbuttondown = true
integer selectedtab = 1
tp_1 tp_1
tp_2 tp_2
tp_3 tp_3
end type

on tab_1.create
this.tp_1=create tp_1
this.tp_2=create tp_2
this.tp_3=create tp_3
this.Control[]={this.tp_1,&
this.tp_2,&
this.tp_3}
end on

on tab_1.destroy
destroy(this.tp_1)
destroy(this.tp_2)
destroy(this.tp_3)
end on

type tp_1 from userobject within tab_1
integer x = 18
integer y = 112
integer width = 3397
integer height = 1384
long backcolor = 79741120
string text = "Reporte"
long tabtextcolor = 33554432
long tabbackcolor = 79741120
string picturename = "Cursor!"
long picturemaskcolor = 536870912
dw_report dw_report
end type

on tp_1.create
this.dw_report=create dw_report
this.Control[]={this.dw_report}
end on

on tp_1.destroy
destroy(this.dw_report)
end on

type dw_report from u_dw_abc within tp_1
integer width = 3383
integer height = 1368
integer taborder = 50
string dataobject = "d_ficha_trabajador_grd"
end type

event constructor;call super::constructor;ii_ck[1] = 1
end event

event clicked;call super::clicked;this.selectrow( 0, false)
this.selectrow( row, true)
end event

type tp_2 from userobject within tab_1
integer x = 18
integer y = 112
integer width = 3397
integer height = 1384
long backcolor = 79741120
string text = "Datos a mostrar"
long tabtextcolor = 33554432
long tabbackcolor = 79741120
string picturename = "CrossTab!"
long picturemaskcolor = 536870912
dw_selected dw_selected
dw_lista dw_lista
pb_4 pb_4
pb_3 pb_3
pb_2 pb_2
pb_1 pb_1
end type

on tp_2.create
this.dw_selected=create dw_selected
this.dw_lista=create dw_lista
this.pb_4=create pb_4
this.pb_3=create pb_3
this.pb_2=create pb_2
this.pb_1=create pb_1
this.Control[]={this.dw_selected,&
this.dw_lista,&
this.pb_4,&
this.pb_3,&
this.pb_2,&
this.pb_1}
end on

on tp_2.destroy
destroy(this.dw_selected)
destroy(this.dw_lista)
destroy(this.pb_4)
destroy(this.pb_3)
destroy(this.pb_2)
destroy(this.pb_1)
end on

type dw_selected from u_dw_abc within tp_2
integer x = 1765
integer width = 1637
integer height = 1356
integer taborder = 40
string dataobject = "d_ficha_maestro_select_tbl"
end type

event constructor;call super::constructor;ii_ck[1] = 1
end event

event clicked;call super::clicked;this.selectrow( 0, false)
this.selectrow( row, true)
end event

type dw_lista from u_dw_abc within tp_2
integer width = 1637
integer height = 1364
integer taborder = 40
string dataobject = "d_ficha_maestro_tbl"
end type

event constructor;call super::constructor;ii_ck[1] = 1
end event

event clicked;call super::clicked;this.selectrow( 0, false)
this.selectrow( row, true)
end event

type pb_4 from picturebutton within tp_2
integer x = 1650
integer y = 824
integer width = 101
integer height = 88
integer taborder = 50
integer textsize = -10
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
string picturename = "VCRFirst!"
alignment htextalign = left!
end type

event clicked;long ll_desde_row, ll_desde_total
datawindow ldw_desde, ldw_hasta

ldw_desde = tab_1.tp_2.dw_selected
ldw_hasta = tab_1.tp_2.dw_lista

ll_desde_total = ldw_desde.rowcount( )

for ll_desde_row = ll_desde_total  to 1 step - 1
	ldw_desde.selectrow( 0, false)
	ldw_desde.scrolltorow( ll_desde_row )
	ldw_desde.setrow( ll_desde_row )
	ldw_desde.selectrow( ll_desde_row, true)
	of_pass_list( ldw_desde, ldw_hasta )
next
end event

type pb_3 from picturebutton within tp_2
integer x = 1650
integer y = 740
integer width = 101
integer height = 88
integer taborder = 50
integer textsize = -10
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
string picturename = "VCRPrior!"
alignment htextalign = left!
end type

event clicked;of_pass_list( tab_1.tp_2.dw_selected , tab_1.tp_2.dw_lista )
end event

type pb_2 from picturebutton within tp_2
integer x = 1650
integer y = 656
integer width = 101
integer height = 88
integer taborder = 40
integer textsize = -10
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
string picturename = "VCRNext!"
alignment htextalign = left!
end type

event clicked;of_pass_list( tab_1.tp_2.dw_lista, tab_1.tp_2.dw_selected  )
end event

type pb_1 from picturebutton within tp_2
integer x = 1650
integer y = 572
integer width = 110
integer height = 96
integer taborder = 30
integer textsize = -10
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
boolean originalsize = true
string picturename = "VCRLast!"
alignment htextalign = left!
end type

event clicked;long ll_desde_row, ll_desde_total
datawindow ldw_desde, ldw_hasta

ldw_desde = tab_1.tp_2.dw_lista
ldw_hasta = tab_1.tp_2.dw_selected

ll_desde_total = ldw_desde.rowcount( )

for ll_desde_row = ll_desde_total  to 1 step - 1
	ldw_desde.selectrow( 0, false)
	ldw_desde.scrolltorow( ll_desde_row )
	ldw_desde.setrow( ll_desde_row )
	ldw_desde.selectrow( ll_desde_row, true)
	of_pass_list( ldw_desde, ldw_hasta )
next
end event

type tp_3 from userobject within tab_1
event create ( )
event destroy ( )
integer x = 18
integer y = 112
integer width = 3397
integer height = 1384
long backcolor = 79741120
string text = "Filtros de Datos"
long tabtextcolor = 33554432
long tabbackcolor = 79741120
string picturename = "Find!"
long picturemaskcolor = 536870912
rb_todos rb_todos
rb_inactivos rb_inactivos
rb_activos rb_activos
rb_ningun_estado rb_ningun_estado
ddlb_banco ddlb_banco
cbx_banco cbx_banco
rb_viudo rb_viudo
rb_todo_estado rb_todo_estado
rb_divorciado rb_divorciado
rb_casado rb_casado
rb_soltero rb_soltero
rb_todo_sexo rb_todo_sexo
rb_femenino rb_femenino
rb_masculino rb_masculino
p_9 p_9
ddlb_origen ddlb_origen
cbx_fec_afp cbx_fec_afp
cbx_fec_cese cbx_fec_cese
cbx_fec_contrato cbx_fec_contrato
cbx_fec_nacimiento cbx_fec_nacimiento
p_8 p_8
p_6 p_6
p_2 p_2
p_1 p_1
uo_fec_cese uo_fec_cese
uo_fec_afp uo_fec_afp
uo_fec_contrato uo_fec_contrato
uo_fec_nacimiento uo_fec_nacimiento
cbx_tipo_trabajador cbx_tipo_trabajador
ddlb_tipo_trabajador ddlb_tipo_trabajador
p_5 p_5
p_4 p_4
cbx_origen cbx_origen
p_3 p_3
rb_tarjeta_todos rb_tarjeta_todos
rb_tarjeta_si rb_tarjeta_si
rb_tarjeta_no rb_tarjeta_no
p_14 p_14
cbx_secciones cbx_secciones
ddlb_areas ddlb_areas
ddlb_secciones ddlb_secciones
p_10 p_10
cbx_centros_costo cbx_centros_costo
ddlb_cencos_niv1 ddlb_cencos_niv1
ddlb_centros_costo ddlb_centros_costo
p_11 p_11
rb_afp_todos rb_afp_todos
rb_afp_si rb_afp_si
rb_afp_no rb_afp_no
p_13 p_13
cbx_afp cbx_afp
ddlb_afp ddlb_afp
p_7 p_7
cbx_trabajador cbx_trabajador
gb_11 gb_11
gb_9 gb_9
gb_7 gb_7
gb_5 gb_5
gb_4 gb_4
gb_2 gb_2
gb_8 gb_8
gb_1 gb_1
gb_10 gb_10
gb_12 gb_12
gb_14 gb_14
dw_trabajador dw_trabajador
gb_6 gb_6
gb_13 gb_13
gb_15 gb_15
gb_16 gb_16
end type

on tp_3.create
this.rb_todos=create rb_todos
this.rb_inactivos=create rb_inactivos
this.rb_activos=create rb_activos
this.rb_ningun_estado=create rb_ningun_estado
this.ddlb_banco=create ddlb_banco
this.cbx_banco=create cbx_banco
this.rb_viudo=create rb_viudo
this.rb_todo_estado=create rb_todo_estado
this.rb_divorciado=create rb_divorciado
this.rb_casado=create rb_casado
this.rb_soltero=create rb_soltero
this.rb_todo_sexo=create rb_todo_sexo
this.rb_femenino=create rb_femenino
this.rb_masculino=create rb_masculino
this.p_9=create p_9
this.ddlb_origen=create ddlb_origen
this.cbx_fec_afp=create cbx_fec_afp
this.cbx_fec_cese=create cbx_fec_cese
this.cbx_fec_contrato=create cbx_fec_contrato
this.cbx_fec_nacimiento=create cbx_fec_nacimiento
this.p_8=create p_8
this.p_6=create p_6
this.p_2=create p_2
this.p_1=create p_1
this.uo_fec_cese=create uo_fec_cese
this.uo_fec_afp=create uo_fec_afp
this.uo_fec_contrato=create uo_fec_contrato
this.uo_fec_nacimiento=create uo_fec_nacimiento
this.cbx_tipo_trabajador=create cbx_tipo_trabajador
this.ddlb_tipo_trabajador=create ddlb_tipo_trabajador
this.p_5=create p_5
this.p_4=create p_4
this.cbx_origen=create cbx_origen
this.p_3=create p_3
this.rb_tarjeta_todos=create rb_tarjeta_todos
this.rb_tarjeta_si=create rb_tarjeta_si
this.rb_tarjeta_no=create rb_tarjeta_no
this.p_14=create p_14
this.cbx_secciones=create cbx_secciones
this.ddlb_areas=create ddlb_areas
this.ddlb_secciones=create ddlb_secciones
this.p_10=create p_10
this.cbx_centros_costo=create cbx_centros_costo
this.ddlb_cencos_niv1=create ddlb_cencos_niv1
this.ddlb_centros_costo=create ddlb_centros_costo
this.p_11=create p_11
this.rb_afp_todos=create rb_afp_todos
this.rb_afp_si=create rb_afp_si
this.rb_afp_no=create rb_afp_no
this.p_13=create p_13
this.cbx_afp=create cbx_afp
this.ddlb_afp=create ddlb_afp
this.p_7=create p_7
this.cbx_trabajador=create cbx_trabajador
this.gb_11=create gb_11
this.gb_9=create gb_9
this.gb_7=create gb_7
this.gb_5=create gb_5
this.gb_4=create gb_4
this.gb_2=create gb_2
this.gb_8=create gb_8
this.gb_1=create gb_1
this.gb_10=create gb_10
this.gb_12=create gb_12
this.gb_14=create gb_14
this.dw_trabajador=create dw_trabajador
this.gb_6=create gb_6
this.gb_13=create gb_13
this.gb_15=create gb_15
this.gb_16=create gb_16
this.Control[]={this.rb_todos,&
this.rb_inactivos,&
this.rb_activos,&
this.rb_ningun_estado,&
this.ddlb_banco,&
this.cbx_banco,&
this.rb_viudo,&
this.rb_todo_estado,&
this.rb_divorciado,&
this.rb_casado,&
this.rb_soltero,&
this.rb_todo_sexo,&
this.rb_femenino,&
this.rb_masculino,&
this.p_9,&
this.ddlb_origen,&
this.cbx_fec_afp,&
this.cbx_fec_cese,&
this.cbx_fec_contrato,&
this.cbx_fec_nacimiento,&
this.p_8,&
this.p_6,&
this.p_2,&
this.p_1,&
this.uo_fec_cese,&
this.uo_fec_afp,&
this.uo_fec_contrato,&
this.uo_fec_nacimiento,&
this.cbx_tipo_trabajador,&
this.ddlb_tipo_trabajador,&
this.p_5,&
this.p_4,&
this.cbx_origen,&
this.p_3,&
this.rb_tarjeta_todos,&
this.rb_tarjeta_si,&
this.rb_tarjeta_no,&
this.p_14,&
this.cbx_secciones,&
this.ddlb_areas,&
this.ddlb_secciones,&
this.p_10,&
this.cbx_centros_costo,&
this.ddlb_cencos_niv1,&
this.ddlb_centros_costo,&
this.p_11,&
this.rb_afp_todos,&
this.rb_afp_si,&
this.rb_afp_no,&
this.p_13,&
this.cbx_afp,&
this.ddlb_afp,&
this.p_7,&
this.cbx_trabajador,&
this.gb_11,&
this.gb_9,&
this.gb_7,&
this.gb_5,&
this.gb_4,&
this.gb_2,&
this.gb_8,&
this.gb_1,&
this.gb_10,&
this.gb_12,&
this.gb_14,&
this.dw_trabajador,&
this.gb_6,&
this.gb_13,&
this.gb_15,&
this.gb_16}
end on

on tp_3.destroy
destroy(this.rb_todos)
destroy(this.rb_inactivos)
destroy(this.rb_activos)
destroy(this.rb_ningun_estado)
destroy(this.ddlb_banco)
destroy(this.cbx_banco)
destroy(this.rb_viudo)
destroy(this.rb_todo_estado)
destroy(this.rb_divorciado)
destroy(this.rb_casado)
destroy(this.rb_soltero)
destroy(this.rb_todo_sexo)
destroy(this.rb_femenino)
destroy(this.rb_masculino)
destroy(this.p_9)
destroy(this.ddlb_origen)
destroy(this.cbx_fec_afp)
destroy(this.cbx_fec_cese)
destroy(this.cbx_fec_contrato)
destroy(this.cbx_fec_nacimiento)
destroy(this.p_8)
destroy(this.p_6)
destroy(this.p_2)
destroy(this.p_1)
destroy(this.uo_fec_cese)
destroy(this.uo_fec_afp)
destroy(this.uo_fec_contrato)
destroy(this.uo_fec_nacimiento)
destroy(this.cbx_tipo_trabajador)
destroy(this.ddlb_tipo_trabajador)
destroy(this.p_5)
destroy(this.p_4)
destroy(this.cbx_origen)
destroy(this.p_3)
destroy(this.rb_tarjeta_todos)
destroy(this.rb_tarjeta_si)
destroy(this.rb_tarjeta_no)
destroy(this.p_14)
destroy(this.cbx_secciones)
destroy(this.ddlb_areas)
destroy(this.ddlb_secciones)
destroy(this.p_10)
destroy(this.cbx_centros_costo)
destroy(this.ddlb_cencos_niv1)
destroy(this.ddlb_centros_costo)
destroy(this.p_11)
destroy(this.rb_afp_todos)
destroy(this.rb_afp_si)
destroy(this.rb_afp_no)
destroy(this.p_13)
destroy(this.cbx_afp)
destroy(this.ddlb_afp)
destroy(this.p_7)
destroy(this.cbx_trabajador)
destroy(this.gb_11)
destroy(this.gb_9)
destroy(this.gb_7)
destroy(this.gb_5)
destroy(this.gb_4)
destroy(this.gb_2)
destroy(this.gb_8)
destroy(this.gb_1)
destroy(this.gb_10)
destroy(this.gb_12)
destroy(this.gb_14)
destroy(this.dw_trabajador)
destroy(this.gb_6)
destroy(this.gb_13)
destroy(this.gb_15)
destroy(this.gb_16)
end on

type rb_todos from radiobutton within tp_3
integer x = 2843
integer y = 76
integer width = 279
integer height = 68
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "Todos"
boolean checked = true
end type

type rb_inactivos from radiobutton within tp_3
integer x = 2514
integer y = 76
integer width = 315
integer height = 68
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "Inactivos"
end type

type rb_activos from radiobutton within tp_3
integer x = 2208
integer y = 76
integer width = 297
integer height = 68
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "Activos"
end type

type rb_ningun_estado from radiobutton within tp_3
integer x = 2821
integer y = 320
integer width = 274
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 33554432
long backcolor = 67108864
string text = "Ninguno"
end type

type ddlb_banco from u_ddlb_lista within tp_3
integer x = 1623
integer y = 104
integer width = 530
integer height = 1248
integer taborder = 40
boolean bringtotop = true
boolean enabled = false
end type

event ue_open_pre;call super::ue_open_pre;is_dataobject = 'd_dddw_banco_tbl'

ii_cn1 = 2                     // Nro del campo 1
ii_cn2 = 1                     // Nro del campo 2
ii_ck  = 1                     // Nro del campo key
ii_lc1 = 60                     // Longitud del campo 1
ii_lc2 = 3							// Longitud del campo 2

end event

type cbx_banco from checkbox within tp_3
integer x = 2030
integer y = 4
integer width = 73
integer height = 72
integer textsize = -8
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
boolean enabled = false
end type

event clicked;if this.checked = true then
	ddlb_banco.enabled = true
else
	ddlb_banco.enabled = false
end if
end event

type rb_viudo from radiobutton within tp_3
integer x = 2555
integer y = 468
integer width = 238
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 33554432
long backcolor = 67108864
string text = "Viudo"
end type

type rb_todo_estado from radiobutton within tp_3
integer x = 2555
integer y = 324
integer width = 233
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 33554432
long backcolor = 67108864
string text = "Todos"
boolean checked = true
end type

type rb_divorciado from radiobutton within tp_3
integer x = 2821
integer y = 468
integer width = 315
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 33554432
long backcolor = 67108864
string text = "Divorciado"
end type

type rb_casado from radiobutton within tp_3
integer x = 2821
integer y = 392
integer width = 265
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 33554432
long backcolor = 67108864
string text = "Casado"
end type

type rb_soltero from radiobutton within tp_3
integer x = 2555
integer y = 392
integer width = 279
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 33554432
long backcolor = 67108864
string text = "Solero"
end type

type rb_todo_sexo from radiobutton within tp_3
integer x = 2199
integer y = 324
integer width = 306
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 33554432
long backcolor = 67108864
string text = "Todos"
boolean checked = true
end type

type rb_femenino from radiobutton within tp_3
integer x = 2199
integer y = 468
integer width = 315
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 33554432
long backcolor = 67108864
string text = "Femenino"
end type

type rb_masculino from radiobutton within tp_3
integer x = 2203
integer y = 392
integer width = 325
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 33554432
long backcolor = 67108864
string text = "Masculino"
end type

type p_9 from picture within tp_3
integer x = 1646
integer width = 59
integer height = 60
string picturename = "Sort!"
boolean focusrectangle = false
end type

type ddlb_origen from u_ddlb_lista within tp_3
integer x = 23
integer y = 96
integer width = 709
integer height = 1260
integer taborder = 60
boolean bringtotop = true
boolean enabled = false
end type

event ue_open_pre;call super::ue_open_pre;is_dataobject = 'd_dddw_origen_usuario_tbl'

ii_cn1 = 2                     // Nro del campo 1
ii_cn2 = 1                     // Nro del campo 2
ii_ck  = 1                     // Nro del campo key
ii_lc1 = 50                     // Longitud del campo 1
ii_lc2 = 2							// Longitud del campo 2
end event

event ue_item_add;Integer	li_index, li_x
Long     ll_rows
Any  		la_id
String	ls_item

ll_rows = ids_Data.Retrieve(gs_user)

FOR li_x = 1 TO ll_rows
	la_id = ids_data.object.data.primary.current[li_x, ii_cn1]
	ls_item = of_cut_string(la_id, ii_lc1, ' ')
	la_id = ids_data.object.data.primary.current[li_x, ii_cn2]
	ls_item = ls_item + of_cut_string(la_id, ii_lc2,'.')
	li_index = THIS.AddItem(ls_item)
	ia_key[li_index] = ids_data.object.data.primary.current[li_x, ii_ck]
NEXT

if ll_rows >= 1 then this.selectitem(1)
end event

type cbx_fec_afp from checkbox within tp_3
integer x = 2208
integer y = 1088
integer width = 69
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
end type

event clicked;if this.checked = false then
	uo_fec_afp.enabled = false
else
	uo_fec_afp.enabled = true
end if
end event

type cbx_fec_cese from checkbox within tp_3
integer x = 530
integer y = 1088
integer width = 64
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
end type

event clicked;if this.checked = false then
	uo_fec_cese.enabled = false
else
	uo_fec_cese.enabled = true
end if
end event

type cbx_fec_contrato from checkbox within tp_3
integer x = 512
integer y = 820
integer width = 69
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
end type

event clicked;if this.checked = false then
	uo_fec_contrato.enabled = false
else
	uo_fec_contrato.enabled = true
end if
end event

type cbx_fec_nacimiento from checkbox within tp_3
integer x = 558
integer y = 548
integer width = 69
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
end type

event clicked;if this.checked = false then
	uo_fec_nacimiento.enabled = false
else
	uo_fec_nacimiento.enabled = true
end if
end event

type p_8 from picture within tp_3
integer x = 50
integer y = 1096
integer width = 64
integer height = 60
string picturename = "Custom023!"
boolean focusrectangle = false
end type

type p_6 from picture within tp_3
integer x = 1646
integer y = 1096
integer width = 64
integer height = 60
string picturename = "Custom023!"
boolean focusrectangle = false
end type

type p_2 from picture within tp_3
integer x = 50
integer y = 820
integer width = 64
integer height = 60
string picturename = "Custom023!"
boolean focusrectangle = false
end type

type p_1 from picture within tp_3
integer x = 50
integer y = 548
integer width = 64
integer height = 60
string picturename = "Custom023!"
boolean focusrectangle = false
end type

type uo_fec_cese from u_rango_fechas within tp_3
event destroy ( )
integer x = 187
integer y = 1208
integer taborder = 60
boolean enabled = false
end type

on uo_fec_cese.destroy
call u_rango_fechas::destroy
end on

type uo_fec_afp from u_rango_fechas within tp_3
event destroy ( )
integer x = 1783
integer y = 1208
integer taborder = 60
boolean enabled = false
end type

on uo_fec_afp.destroy
call u_rango_fechas::destroy
end on

type uo_fec_contrato from u_rango_fechas within tp_3
event destroy ( )
integer x = 187
integer y = 936
integer taborder = 60
boolean enabled = false
end type

on uo_fec_contrato.destroy
call u_rango_fechas::destroy
end on

type uo_fec_nacimiento from u_rango_fechas within tp_3
event destroy ( )
integer x = 187
integer y = 664
integer taborder = 50
boolean enabled = false
end type

on uo_fec_nacimiento.destroy
call u_rango_fechas::destroy
end on

type cbx_tipo_trabajador from checkbox within tp_3
integer x = 672
integer y = 272
integer width = 59
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
boolean checked = true
end type

event clicked;if this.checked = true then
	ddlb_tipo_trabajador.enabled = false
else
	ddlb_tipo_trabajador.enabled = true
end if
end event

type ddlb_tipo_trabajador from u_ddlb_lista within tp_3
integer x = 23
integer y = 364
integer width = 709
integer height = 1056
integer taborder = 50
boolean bringtotop = true
boolean enabled = false
end type

event ue_open_pre;call super::ue_open_pre;is_dataobject = 'd_dddw_tipo_trabajador_tbl'

ii_cn1 = 2                     // Nro del campo 1
ii_cn2 = 1                     // Nro del campo 2
ii_ck  = 1                     // Nro del campo key
ii_lc1 = 50                     // Longitud del campo 1
ii_lc2 = 3							// Longitud del campo 2

end event

type p_5 from picture within tp_3
integer x = 50
integer y = 12
integer width = 78
integer height = 60
string picturename = "Custom042!"
boolean focusrectangle = false
end type

type p_4 from picture within tp_3
integer x = 50
integer y = 276
integer width = 64
integer height = 60
string picturename = "Move!"
boolean focusrectangle = false
end type

type cbx_origen from checkbox within tp_3
integer x = 603
integer y = 8
integer width = 73
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
boolean checked = true
end type

event clicked;if this.checked = true then
	ddlb_origen.enabled = false
else
	ddlb_origen.enabled = true
end if
end event

type p_3 from picture within tp_3
integer x = 855
integer width = 59
integer height = 60
string picturename = "Sort!"
boolean focusrectangle = false
end type

type rb_tarjeta_todos from radiobutton within tp_3
integer x = 1061
integer y = 92
integer width = 229
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 33554432
long backcolor = 67108864
string text = "To&dos"
boolean checked = true
end type

event clicked;cbx_banco.enabled = false
cbx_banco.checked = false
ddlb_banco.enabled = false
end event

type rb_tarjeta_si from radiobutton within tp_3
integer x = 951
integer y = 164
integer width = 165
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 33554432
long backcolor = 67108864
string text = "&Si"
end type

event clicked;cbx_banco.enabled = true
cbx_banco.checked = false
ddlb_banco.enabled = false
end event

type rb_tarjeta_no from radiobutton within tp_3
integer x = 1230
integer y = 164
integer width = 160
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 33554432
long backcolor = 67108864
string text = "&No"
end type

event clicked;cbx_banco.enabled = false
cbx_banco.checked = false
ddlb_banco.enabled = false
end event

type p_14 from picture within tp_3
integer x = 1646
integer y = 548
integer width = 59
integer height = 60
string picturename = "Custom004!"
boolean focusrectangle = false
end type

type cbx_secciones from checkbox within tp_3
integer x = 2423
integer y = 548
integer width = 78
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
boolean checked = true
end type

event clicked;if this.checked = true then
	ddlb_areas.enabled = false
	ddlb_secciones.enabled = false
else
	ddlb_areas.enabled = true
	ddlb_secciones.enabled = true
end if
end event

type ddlb_areas from u_ddlb_lista within tp_3
integer x = 1623
integer y = 648
integer width = 709
integer height = 716
boolean bringtotop = true
boolean enabled = false
boolean autohscroll = true
boolean sorted = true
boolean hscrollbar = true
end type

event selectionchanged;call super::selectionchanged;ddlb_secciones.event constructor()
end event

event ue_open_pre;call super::ue_open_pre;is_dataobject = 'd_dddw_area_reporte_tbl'

ii_cn1 = 2                     // Nro del campo 1
ii_cn2 = 1                     // Nro del campo 2
ii_ck  = 1                     // Nro del campo key
ii_lc1 = 50                     // Longitud del campo 1
ii_lc2 = 1							// Longitud del campo 2
end event

type ddlb_secciones from u_ddlb_lista within tp_3
integer x = 2400
integer y = 648
integer width = 709
integer height = 716
boolean bringtotop = true
boolean enabled = false
boolean autohscroll = true
boolean sorted = true
boolean hscrollbar = true
end type

event ue_open_pre;call super::ue_open_pre;is_dataobject = 'd_dddw_seccion_reporte_tbl'

ii_cn1 = 2                     // Nro del campo 1
ii_cn2 = 1                     // Nro del campo 2
ii_ck  = 1                     // Nro del campo key
ii_lc1 = 50                     // Longitud del campo 1
ii_lc2 = 3							// Longitud del campo 2
end event

event ue_item_add;//overwrite
Integer	li_index, li_x
Long     ll_rows, ll_total, ll_count
Any  		la_id
String	ls_item, ls_area

ll_total = this.totalitems()

if ll_total >= 1 then
	for ll_count = ll_total to 1 step -1
		this.deleteitem(ll_count)
	next
end if

ls_area = right(trim(ddlb_areas.text),1)

ll_rows = ids_Data.Retrieve(ls_area)

FOR li_x = 1 TO ll_rows
	la_id = ids_data.object.data.primary.current[li_x, ii_cn1]
	ls_item = of_cut_string(la_id, ii_lc1, '.')
	la_id = ids_data.object.data.primary.current[li_x, ii_cn2]
	ls_item = ls_item + of_cut_string(la_id, ii_lc2,'.')
	li_index = THIS.AddItem(ls_item)
	ia_key[li_index] = ids_data.object.data.primary.current[li_x, ii_ck]
NEXT

this.height = ddlb_areas.height
end event

type p_10 from picture within tp_3
integer x = 1646
integer y = 820
integer width = 59
integer height = 60
string picturename = "SetVariable!"
boolean focusrectangle = false
end type

type cbx_centros_costo from checkbox within tp_3
integer x = 2409
integer y = 820
integer width = 73
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
boolean checked = true
end type

event clicked;if this.checked = true then
	ddlb_cencos_niv1.enabled = false
	ddlb_centros_costo.enabled = false
else
	ddlb_cencos_niv1.enabled = true
	ddlb_centros_costo.enabled = true
end if
end event

type ddlb_cencos_niv1 from u_ddlb_lista within tp_3
integer x = 1623
integer y = 916
integer width = 709
integer height = 456
integer taborder = 20
boolean bringtotop = true
boolean enabled = false
boolean autohscroll = true
boolean sorted = true
boolean hscrollbar = true
end type

event selectionchanged;call super::selectionchanged;ddlb_centros_costo.event constructor()
end event

event ue_open_pre;call super::ue_open_pre;is_dataobject = 'd_dddw_cencos_niv1_reporte_tbl'

ii_cn1 = 2                     // Nro del campo 1
ii_cn2 = 1                     // Nro del campo 2
ii_ck  = 1                     // Nro del campo key
ii_lc1 = 50                     // Longitud del campo 1
ii_lc2 = 2							// Longitud del campo 2
end event

type ddlb_centros_costo from u_ddlb_lista within tp_3
integer x = 2400
integer y = 916
integer width = 709
integer height = 456
integer taborder = 20
boolean bringtotop = true
boolean enabled = false
boolean autohscroll = true
boolean sorted = true
boolean hscrollbar = true
end type

event ue_open_pre;call super::ue_open_pre;is_dataobject = 'd_dddw_centros_costo_reprote_tbl'

ii_cn1 = 2                     // Nro del campo 1
ii_cn2 = 1                     // Nro del campo 2
ii_ck  = 1                     // Nro del campo key
ii_lc1 = 50                     // Longitud del campo 1
ii_lc2 = 10							// Longitud del campo 2
end event

event ue_item_add;//overwrite
Integer	li_index, li_x
Long     ll_rows, ll_total, ll_count
Any  		la_id
String	ls_item, ls_cencos_niv1

ll_total = this.totalitems()

if ll_total >= 1 then
	for ll_count = ll_total to 1 step -1
		this.deleteitem(ll_count)
	next
end if

ls_cencos_niv1 = right(trim(ddlb_cencos_niv1.text),2)

ll_rows = ids_Data.Retrieve(ls_cencos_niv1)

FOR li_x = 1 TO ll_rows
	la_id = ids_data.object.data.primary.current[li_x, ii_cn1]
	ls_item = of_cut_string(la_id, ii_lc1, '.')
	la_id = ids_data.object.data.primary.current[li_x, ii_cn2]
	ls_item = ls_item + of_cut_string(la_id, ii_lc2,'.')
	li_index = THIS.AddItem(ls_item)
	ia_key[li_index] = ids_data.object.data.primary.current[li_x, ii_ck]
NEXT

this.height = ddlb_areas.height
end event

type p_11 from picture within tp_3
integer x = 864
integer y = 280
integer width = 59
integer height = 60
string picturename = "StyleLibraryList5!"
boolean focusrectangle = false
end type

type rb_afp_todos from radiobutton within tp_3
integer x = 1061
integer y = 360
integer width = 229
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 33554432
long backcolor = 67108864
string text = "To&dos"
boolean checked = true
end type

event clicked;cbx_afp.enabled = false
cbx_afp.checked = true
ddlb_afp.enabled = false
end event

type rb_afp_si from radiobutton within tp_3
integer x = 951
integer y = 448
integer width = 165
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 33554432
long backcolor = 67108864
string text = "&Si"
end type

event clicked;cbx_afp.enabled = true
cbx_afp.checked = true
ddlb_afp.enabled = false
end event

type rb_afp_no from radiobutton within tp_3
integer x = 1230
integer y = 448
integer width = 160
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 33554432
long backcolor = 67108864
string text = "&No"
end type

event clicked;cbx_afp.enabled = false
cbx_afp.checked = true
ddlb_afp.enabled = false
end event

type p_13 from picture within tp_3
integer x = 1646
integer y = 284
integer width = 59
integer height = 60
string picturename = "StyleLibraryList5!"
boolean focusrectangle = false
end type

type cbx_afp from checkbox within tp_3
integer x = 2071
integer y = 280
integer width = 59
integer height = 72
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
boolean enabled = false
boolean checked = true
end type

event clicked;if this.checked = true then
	ddlb_afp.enabled = false
else
	ddlb_afp.enabled = true
end if
end event

type ddlb_afp from u_ddlb_lista within tp_3
integer x = 1623
integer y = 396
integer width = 530
integer height = 960
integer taborder = 20
boolean bringtotop = true
boolean enabled = false
end type

event ue_open_pre;call super::ue_open_pre;is_dataobject = 'd_dddw_admin_afp_reporte_tbl'

ii_cn1 = 2                     // Nro del campo 1
ii_cn2 = 1                     // Nro del campo 2
ii_ck  = 1                     // Nro del campo key
ii_lc1 = 50                     // Longitud del campo 1
ii_lc2 = 2							// Longitud del campo 2

end event

type p_7 from picture within tp_3
integer x = 2231
integer y = 4
integer width = 59
integer height = 60
string picturename = "Custom076!"
boolean focusrectangle = false
end type

type cbx_trabajador from checkbox within tp_3
integer x = 2839
integer width = 64
integer height = 64
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
boolean checked = true
end type

event clicked;if this.checked = true then
	dw_trabajador.enabled = false
		
	cbx_origen.enabled = true
	cbx_tipo_trabajador.enabled = true
	cbx_secciones.enabled = true
	cbx_centros_costo.enabled = true
	cbx_afp.enabled = false
	cbx_fec_nacimiento.enabled = true
	cbx_fec_contrato.enabled = true
	cbx_fec_cese.enabled = true
	cbx_fec_afp.enabled = true

	uo_fec_nacimiento.enabled = false
	uo_fec_contrato.enabled = false
	uo_fec_cese.enabled = false
	uo_fec_afp.enabled = false

	rb_tarjeta_todos.enabled = true
	rb_tarjeta_si.enabled = true
	rb_tarjeta_no.enabled = true
	
	rb_afp_todos.enabled = true
	rb_afp_si.enabled = true
	rb_afp_no.enabled = true
	
	rb_todo_sexo.enabled = true
	rb_masculino.enabled = true
	rb_femenino.enabled = true
	
	rb_todo_estado.enabled = true
	rb_ningun_estado.enabled = true
	rb_soltero.enabled = true
	rb_casado.enabled = true
	rb_divorciado.enabled = true
	rb_viudo.enabled = true
	
else
	dw_trabajador.enabled = true
	
	cbx_origen.enabled = false
	cbx_tipo_trabajador.enabled = false
	cbx_secciones.enabled = false
	cbx_centros_costo.enabled = false
	cbx_afp.enabled = false
	cbx_fec_nacimiento.enabled = false
	cbx_fec_contrato.enabled = false
	cbx_fec_cese.enabled = false
	cbx_fec_afp.enabled = false

	uo_fec_nacimiento.enabled = false
	uo_fec_contrato.enabled = false
	uo_fec_cese.enabled = false
	uo_fec_afp.enabled = false
	
	rb_tarjeta_todos.enabled = false
	rb_tarjeta_si.enabled = false
	rb_tarjeta_no.enabled = false
	
	rb_afp_todos.enabled = false
	rb_afp_si.enabled = false
	rb_afp_no.enabled = false
	
	rb_todo_sexo.enabled = false
	rb_masculino.enabled = false
	rb_femenino.enabled = false
	
	rb_todo_estado.enabled = false
	rb_ningun_estado.enabled = false
	rb_soltero.enabled = false
	rb_casado.enabled = false
	rb_divorciado.enabled = false
	rb_viudo.enabled = false
	
end if

rb_tarjeta_todos.checked = true
rb_afp_todos.checked = true
rb_todo_estado.checked = true
rb_todo_sexo.checked = true

cbx_origen.checked = true
cbx_tipo_trabajador.checked = true
cbx_secciones.checked = true
cbx_centros_costo.checked = true
cbx_afp.checked = true

cbx_fec_nacimiento.checked = false
cbx_fec_contrato.checked = false
cbx_fec_cese.checked = false
cbx_fec_afp.checked = false

uo_fec_nacimiento.enabled = false
uo_fec_contrato.enabled = false
uo_fec_cese.enabled = false
uo_fec_afp.enabled = false
	
ddlb_origen.enabled = false
ddlb_tipo_trabajador.enabled = false
ddlb_areas.enabled = false
ddlb_secciones.enabled = false
ddlb_cencos_niv1.enabled = false
ddlb_centros_costo.enabled = false
ddlb_afp.enabled = false
end event

type gb_11 from groupbox within tp_3
integer x = 1600
integer y = 280
integer width = 581
integer height = 268
integer taborder = 10
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "      Todas las AFP"
end type

type gb_9 from groupbox within tp_3
integer x = 800
integer y = 280
integer width = 754
integer height = 268
integer taborder = 10
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "        Afiliados a AFP "
end type

event constructor;cbx_afp.enabled = true
end event

type gb_7 from groupbox within tp_3
integer x = 1605
integer y = 824
integer width = 1554
integer height = 268
integer taborder = 20
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "      Todos los Centros de Costos        "
end type

type gb_5 from groupbox within tp_3
integer x = 1600
integer y = 552
integer width = 1554
integer height = 268
integer taborder = 10
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "       Todas las Areas y Secciones       "
end type

type gb_4 from groupbox within tp_3
integer x = 800
integer y = 8
integer width = 754
integer height = 268
integer taborder = 10
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "       Pagos con Tarjetas "
end type

type gb_2 from groupbox within tp_3
integer y = 8
integer width = 754
integer height = 268
integer taborder = 30
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "       Todos los Origenes         "
end type

type gb_8 from groupbox within tp_3
integer y = 280
integer width = 754
integer height = 268
integer taborder = 40
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "       Todos los Trabajadores    "
end type

type gb_1 from groupbox within tp_3
integer y = 552
integer width = 1554
integer height = 264
integer taborder = 50
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "       Fecha Nacimiento   "
end type

type gb_10 from groupbox within tp_3
integer y = 824
integer width = 1554
integer height = 268
integer taborder = 60
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "       Fecha Contrato   "
end type

type gb_12 from groupbox within tp_3
integer y = 1096
integer width = 1554
integer height = 268
integer taborder = 70
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "       Fecha  de Cese   "
end type

type gb_14 from groupbox within tp_3
integer x = 1595
integer y = 1096
integer width = 1554
integer height = 268
integer taborder = 70
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "       Fecha Afilación AFP   "
end type

type dw_trabajador from datawindow within tp_3
integer x = 2199
integer y = 148
integer width = 946
integer height = 100
integer taborder = 20
boolean bringtotop = true
boolean enabled = false
string title = "none"
string dataobject = "d_busca_trabajador"
boolean border = false
boolean livescroll = true
end type

event doubleclicked;string ls_col, ls_sql, ls_return1, ls_return2
ls_col = string(lower(dwo.name))
choose case ls_col
	case 'cod_trabajador'
		//ls_sql = "Select cod_relacion as Codigo, nombre as Nombre_Trabajador from codigo_relacion where flag_tabla = 'M'"	
		ls_sql = "select cod_relacion as Codigo, nombre as Trabajador from codigo_relacion cr where flag_tabla = 'M'"
		f_lista(ls_sql, ls_return1, ls_return2, '2')
		if isnull(ls_return1) or trim(ls_return1) = '' then return
		dw_trabajador.retrieve(ls_return1)
end choose
end event

event itemchanged;string ls_col, ls_cod_trabajador, ls_nombre, ls_flag_estado

ls_col = string(lower(dwo.name))

choose case ls_col
	case 'cod_trabajador'
		this.accepttext()
		Select cod_trabajador
			into :ls_cod_trabajador
			from maestro 
			where cod_trabajador = :data;
		if sqlca.sqlcode = 100 then
			messagebox('Ficha del Trabajador', 'No existe trabajador con código ' + trim(data))
			this.object.cod_trabajador[row] = ''
			this.object.nombre[row] = ''
			this.object.flag_estado[row] = ''
			return 2
		end if
		this.retrieve(ls_cod_trabajador)
end choose
end event

type gb_6 from groupbox within tp_3
integer x = 2185
integer y = 8
integer width = 969
integer height = 268
integer taborder = 10
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "     Todos los Trabajadores    "
end type

type gb_13 from groupbox within tp_3
integer x = 1600
integer y = 8
integer width = 581
integer height = 268
integer taborder = 70
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "      Banco Abono"
end type

type gb_15 from groupbox within tp_3
integer x = 2185
integer y = 280
integer width = 357
integer height = 268
integer taborder = 30
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "Sexo"
end type

type gb_16 from groupbox within tp_3
integer x = 2546
integer y = 280
integer width = 608
integer height = 268
integer taborder = 40
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "Estado Civil"
end type

type gb_3 from groupbox within w_rh406_rpt_gen_trab
integer y = 552
integer width = 1554
integer height = 432
integer taborder = 20
integer textsize = -8
integer weight = 400
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 8388608
long backcolor = 67108864
string text = "Fecha Nacimiento"
end type

