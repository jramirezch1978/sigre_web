HU-ALM-REP-ALM-002 - Generación de Movimientos de Artículos en Kardex - v1.0
1. Título
 Generación de movimientos de artículos en Kardex
2. Descripción
 Como usuario del sistema Restaurant.pe, quiero generar y visualizar los movimientos de los artículos en el Kardex, para mantener un control detallado de las entradas, salidas y transferencias de inventario, garantizando la trazabilidad de cada producto en los diferentes almacenes.
3. Proceso
 Proceso: Reportes
Subproceso: Reporte de Almacén
Módulo: Almacén
4. Narrativa de Usuario
 Quiero: Consultar y generar los movimientos de los artículos en el Kardex.
Para: Tener un registro histórico y actualizado de los movimientos de inventario.
De manera que: Pueda analizar la rotación de productos, verificar diferencias y mantener la consistencia entre inventario físico y contable.
5. Regla de Navegabilidad
 Ruta: Menú Principal > Almacén > Reportes > Generación de Movimientos de Artículos en Kardex
6. Criterios de Aceptación
 El sistema debe permitir:
* Generar un reporte detallado con todos los movimientos registrados en el Kardex por producto, almacén o rango de fechas.

* Mostrar los movimientos clasificados por tipo: entradas, salidas, transferencias, ajustes y devoluciones.

* Identificar el documento origen del movimiento (orden de compra, factura, traslado, ajuste, devolución, etc.).

* Calcular automáticamente las existencias iniciales, movimientos y saldos finales de cada artículo.

* Mostrar los valores de costo unitario y costo total por cada movimiento.

* Filtrar por almacén, categoría, producto, tipo de movimiento, rango de fechas o usuario que realizó la operación.

* Exportar el reporte en formato Excel o PDF.

* Generar gráficos de movimiento por período (diario, semanal, mensual).[a][b][c]

* Registrar toda consulta, exportación o generación de reporte en el log de auditoría contable (usuario, fecha, hora, acción).

* Reflejar en tiempo real los movimientos provenientes de los módulos de Compras, Ventas y Producción.

7. Campos del Reporte / Columnas de Vista Tabla
 Campos principales:
   * Fecha del Movimiento

   * Código del Artículo

   * Descripción del Artículo

   * Categoría / Subcategoría

   * Unidad de Medida

   * Almacén

   * Tipo de Movimiento (Entrada / Salida / Transferencia / Ajuste / Devolución)

   * Documento Origen / Número de Referencia

   * Cantidad de Entrada

   * Cantidad de Salida

   * Saldo Final

   * Costo Unitario

   * Costo Total Movimiento

   * Costo Promedio

   * Usuario Responsable

   * Observaciones

Filtros disponibles:
      * Código o Descripción del Artículo

      * Categoría / Subcategoría

      * Almacén

      * Tipo de Movimiento

      * Documento Origen

      * Usuario

      * Rango de Fechas

      * País / Sucursal

Acciones disponibles:
         * Ver Detalle de Movimiento

         * Exportar / Imprimir (Excel / PDF)

         * Consultar Kardex Histórico

         * Generar Gráfico de Movimientos[d][e][f]

8. Detalle de Integración (opcional)
 Integración con Compras: para registrar entradas por recepciones de órdenes de compra.
Integración con Ventas: para registrar salidas por ventas y despachos.
Integración con Traslados: para registrar movimientos entre almacenes.
Integración con Ajustes: para reflejar ajustes de inventario por diferencias o pérdidas.
Integración con Contabilidad: para reflejar el valor del inventario en las cuentas contables.
9. Consideraciones Técnicas
 El sistema debe:
            * Calcular dinámicamente los saldos iniciales y finales por producto.

            * Actualizar el Kardex automáticamente ante cada movimiento registrado en otros módulos.

            * Validar que los movimientos se generen únicamente para productos activos.

            * Mantener la trazabilidad completa de cada movimiento, con registro de usuario, fecha y tipo de operación.

            * Permitir la generación del reporte por empresa, país o sucursal según los permisos del usuario.

            * Mostrar saldos valorizados tanto en moneda local como en moneda corporativa (USD) para entornos multipaís.

            * Registrar todas las consultas y exportaciones en el log de auditoría contable.

10. Comentarios
 Este reporte permite un control integral del flujo de inventario, asegurando la trazabilidad de cada producto y mejorando la precisión contable del sistema.
Facilita la identificación de diferencias entre inventario físico y lógico, y apoya las auditorías internas o externas.
Se recomienda incluir indicadores KPI como:
               * Rotación promedio por producto.

               * Días promedio de existencia.

               * Valor total del inventario en movimiento.

Asimismo, puede vincularse a paneles de control (dashboards) para visualizar tendencias de movimientos de forma gráfica y dinámica.




[a]@consultorexterno1@restaurant.pe
@igarcia@restaurant.pe 
Como funcionaría el tema de periodos para la generación de gráficos.
_Asignada a consultorexterno1@restaurant.pe_
[b]se selecciona el periodo y rango de fechas (por el tipo de periodo seleccionado) y se muestra el movimiento si es diario e mostrará el detalle de los movimientos correspondientes a cada día dentro del rango, si es semanal consolida los totales por semana calendario, y si es mensual agrupa movimiento por mes natural
[c]se debe realizar un mockup y anexarlos a la HU para mayor comprensión, y realizar la respectiva descripción de la acción (Ya descripción de cada acción debe ir en la HU y no en el comentario de la observación, ya que los comentarios luego se eliminarán una vez levantada la observación).
[d]@consultorexterno1@restaurant.pe
@igarcia@restaurant.pe 
Brindar mayor detalle de esta acción, y a que tipo de gráfico le hace referencia?
_Asignada a consultorexterno1@restaurant.pe_
[e]se muestre grafico dinamico los movimientos por productos , se puede visualizar la evolucion y comportamiento dentro de inventario
[f]Se debe realizar un mockup indicando el tipo de gráfico y anexarlos a la HU para mayor comprensión, y realizar la respectiva descripción de la acción (Ya descripción de cada acción debe ir en la HU y no en el comentario de la observación, ya que los comentarios luego se eliminarán una vez levantada la observación).