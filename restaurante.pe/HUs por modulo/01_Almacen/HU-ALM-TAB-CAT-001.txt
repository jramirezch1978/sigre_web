HU-ALM-TAB-CAT-001 - Definición y Mantenimiento de la Estructura Jerárquica de Clasificación de Artículos - v1.0
1. Título
 Definición y Mantenimiento de la Estructura Jerárquica de Clasificación de Artículos
2. Descripción
Como usuario del sistema Restaurant.pe, quiero definir, editar y mantener la estructura jerárquica de clasificación de los artículos (categorías, subcategorías, familias, líneas), para organizar de forma lógica los productos dentro del sistema y facilitar su gestión en los procesos de compras, almacén, ventas y contabilidad.
3. Proceso
 Proceso: Tablas
Subproceso: Categorías
Módulo: Almacén
4. Narrativa de Usuario
 Quiero: Crear, editar y mantener una estructura jerárquica de clasificación de los artículos.
Para: Organizar los productos de forma ordenada, homogénea y consistente.
De manera que: Se optimice la búsqueda, registro y análisis de artículos, permitiendo una mejor trazabilidad y control del inventario.
5. Regla de Navegabilidad
 Ruta: Menú Principal > Almacén > Tablas > Categorías > Estructura Jerárquica de Clasificación de Artículos
6. Criterios de Aceptación
 El sistema debe permitir:
* Crear niveles jerárquicos de clasificación (por ejemplo: Categoría → Subcategoría → Familia → Línea).

* Definir una descripción y código único para cada nivel.

* Asociar cada artículo a una categoría y subcategoría correspondiente.

* Editar o eliminar clasificaciones siempre que no estén vinculadas a artículos activos.

* Marcar las clasificaciones como activas o inactivas.

* Mostrar la estructura jerárquica en formato árbol, con la posibilidad de expandir o colapsar niveles.

* Validar que no se creen duplicados de nombres o códigos dentro del mismo nivel jerárquico.

* Permitir importar o exportar la estructura jerárquica (Excel/PDF).

* Registrar todas las acciones (alta, modificación, baja, activación, inactivación) en el log de auditoría contable (usuario, fecha, hora, acción).

* Permitir la asociación automática de categorías a los artículos según reglas de negocio predefinidas (por tipo o familia).

7. Campos del Reporte / Columnas de Vista Tabla
 Campos principales:

   * Almacen
   * sucursal
   * Código de Clasificación

   * Descripción

   * Nivel (Categoría / Subcategoría / Familia / Línea)

   * Categoría Padre (si aplica)

   * Estado (Activo / Inactivo)

   * Fecha de Creación

   * Usuario que Registró

   * Observaciones

Filtros disponibles:
      * Nivel Jerárquico

      * Categoría Padre

      * Estado (Activo / Inactivo)

      * Usuario que Registró

      * Rango de Fechas

Acciones disponibles:
         * Crear Nueva Clasificación

         * Editar Clasificación

         * Activar / Inactivar

         * Eliminar (solo si no tiene artículos asociados)

         * Ver Detalle

         * Exportar (Excel / PDF)

         * Importar Estructura

         * Ver Log de Auditoría

8. Detalle de Integración (opcional)
 Integración con Compras: para asociar automáticamente categorías a los artículos registrados en órdenes o facturas.
Integración con Ventas: para agrupar los productos en reportes de ventas por categoría o subcategoría.
Integración con Contabilidad: para determinar la cuenta contable asociada según la clasificación del artículo.
Integración con Inventario: para agrupar reportes de stock, rotación y valorización por categoría.
9. Consideraciones Técnicas
 El sistema debe almacenar la jerarquía de clasificación mediante una estructura multinivel configurable, que permita agregar o eliminar niveles según las necesidades de la empresa.
Debe garantizar la unicidad del código dentro de cada nivel.
El árbol jerárquico debe renderizarse dinámicamente, con capacidad de búsqueda incremental.
La eliminación lógica (inactivación) debe preferirse sobre la eliminación física para mantener la trazabilidad.
Las categorías deben poder replicarse entre razones sociales o sucursales, conservando la relación jerárquica.
Toda modificación debe actualizarse en los módulos de compras, ventas y almacén que utilicen dicha clasificación.
10. Comentarios
 Esta funcionalidad constituye la base de la gestión de artículos en el sistema Restaurant.pe, ya que permite mantener una estructura lógica y consistente para la clasificación de productos.
El uso de una estructura jerárquica optimiza la gestión de inventarios, análisis de compras, márgenes de venta y control contable.
Se recomienda incorporar indicadores KPI como:
            * Número total de categorías activas.

            * Porcentaje de artículos clasificados correctamente.

            * Niveles jerárquicos más utilizados.

Asimismo, se sugiere permitir la sincronización automática de categorías entre filiales y sucursales, garantizando la homogeneidad en la gestión multipaís.