HU-COM-RC-014 - Generación de Sugerencia de Cantidad Óptima y Proveedor Sugerido - v1.0
1. Título
Generación de Sugerencia de Cantidad Óptima y Proveedor Sugerido
2. Descripción
Como usuario del sistema contable de Restaurant.pe, quiero que el sistema genere un reporte analítico con sugerencias automáticas de la cantidad óptima de compra y el proveedor más conveniente, basado en el historial de compras, consumos y precios, para optimizar el abastecimiento y mejorar la eficiencia en la gestión de compras.
3. Proceso
* Proceso: Reportes

* Subproceso: Reportes de Compras

* Módulo: Compras

4. Narrativa de Usuario
   * Quiero: Obtener automáticamente una sugerencia de cantidad óptima de compra y el proveedor recomendado por cada producto.

   * Para: Agilizar la toma de decisiones en las órdenes de compra.

   * De manera que: Se reduzcan costos, se eviten quiebres de stock y se mejore la rentabilidad operativa del restaurante.

5. Regla de Navegabilidad
Ruta: Menú Principal > Compras > Reportes > Generación de Sugerencia de Cantidad Óptima y Proveedor Sugerido
6. Criterios de Aceptación
      1. El sistema debe analizar el historial de compras y consumos de cada producto (últimos 3, 6 o 12 meses).

      2. Debe considerar parámetros como:

         * Promedio de consumo diario o semanal.

         * Stock actual en almacén.

         * Punto de reposición configurado.

         * Tiempo promedio de entrega del proveedor.

         * Precio promedio histórico y descuentos.

            3. La cantidad óptima sugerida debe calcularse en base a:
Cantidad Óptima = (Consumo promedio x Plazo de reposición) + Stock de seguridad
            4. El sistema debe sugerir el proveedor recomendado según:

               * Mejor precio histórico.

               * Cumplimiento de entregas.

               * Condiciones de pago.

                  5. El usuario podrá filtrar por categoría de producto, almacén, proveedor actual, país, sucursal o rango de fechas.

                  6. Debe permitir ajustar manualmente las sugerencias antes de generar la orden de compra.

                  7. El reporte debe poder exportarse en Excel y PDF.

                  8. Toda consulta, modificación o exportación debe registrarse en el log de auditoría contable (usuario, fecha, hora, acción).

                  9. El sistema debe permitir programar la generación automática del reporte (por semana o mes).

                  10. Sólo se mostrarán los datos correspondientes a la razón social y sucursal activa del usuario.

7. Campos del Reporte / Columnas de Vista Tabla
Columnas principales:
                     * Código del Producto

                     * Descripción del Producto

                     * Categoría / Subcategoría

                     * Unidad de Medida

                     * Stock Actual

                     * Consumo Promedio (Últimos X días)

                     * Punto de Reposición

                     * Tiempo de Entrega (días)

                     * Cantidad Óptima Sugerida

                     * Proveedor Sugerido

                     * Precio Promedio Histórico

                     * Condición de Pago del Proveedor

                     * Descuento Promedio (%)

                     * Costo Total Estimado

                     * Sucursal / Almacén

                     * Estado de Sugerencia (Pendiente / Generada)

Filtros disponibles:
                        * Categoría / Subcategoría

                        * Rango de Fechas

                        * Proveedor

                        * Sucursal / Almacén


                        * Estado de Sugerencia

Acciones disponibles:
                           * Ver Detalle

                           * Exportar (Excel / PDF)

                           * Generar Orden de Compra desde Sugerencia

                           * Editar Cantidad Sugerida

                           * Programar Envío Automático





8. Detalle de Integración (opcional)
                              * Integración con Compras: para registrar automáticamente la orden de compra basada en la sugerencia.

                              * Integración con Almacén: para obtener el stock actual y punto de reposición de cada producto.

                              * Integración con Proveedores: para obtener precios históricos, plazos de entrega y condiciones de pago.

                              * Integración con Contabilidad: para validar presupuestos disponibles y registrar las compras sugeridas.

9. Consideraciones Técnicas
                                 * Los cálculos deben realizarse de forma automática utilizando los datos de consumo y compras históricas.

                                 * El algoritmo debe actualizarse al momento de consultar o al ejecutar la programación automática.

                                 * Las acciones (consultas, generación de sugerencias, exportaciones) deben registrarse en el log de auditoría contable.

                                 * El sistema debe permitir definir parámetros globales (por empresa o sucursal) para los cálculos:

                                    * Días promedio de reposición.

                                    * Stock de seguridad.

                                    * Periodo de análisis histórico.

                                       * Los resultados deben presentarse tanto en moneda local como en moneda corporativa (USD) para entornos multipaís.

10. Comentarios
                                          * Este reporte servirá como herramienta predictiva de abastecimiento, reduciendo faltantes y exceso de inventario.

                                          * El modelo de sugerencia podrá ajustarse según políticas internas (mínimos de compra, descuentos por volumen, etc.).

                                          * Se recomienda incorporar indicadores KPI, tales como:

                                             * % de ahorro estimado por proveedor sugerido.

                                             * Cumplimiento histórico del proveedor.

                                             * Nivel de rotación del producto.

                                                * En países con normativas fiscales distintas, las sugerencias deben basarse en proveedores autorizados por la SUNAT, DIAN, SII, SENIAT u organismo local correspondiente.

                                                * Permite una integración directa con la planificación de abastecimiento, mejorando la sincronización entre compras, almacén y contabilidad.

                                                * Se sugiere incluir alertas automáticas cuando el stock proyectado esté por debajo del punto de reposición.