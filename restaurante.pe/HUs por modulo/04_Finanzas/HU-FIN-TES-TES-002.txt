HU-FIN-TES-TES-002 - Lista de Cuentas por Cliente y Control del Vencimiento: Registrar, Aplicar Pagos, Anticipos y Notas de Crédito - v1.0
1. Título
Lista de Cuentas por Cliente y Control del Vencimiento: Registrar, Aplicar Pagos, Anticipos y Notas de Crédito
2. Descripción
Como usuario del sistema contable de Restaurant.pe, quiero acceder a una lista de cuentas por cliente que me permita controlar los vencimientos, registrar pagos, aplicar anticipos y notas de crédito, para gestionar de manera eficiente la cartera de cobranza y mantener la contabilidad actualizada.
3. Proceso
Proceso: Tesorería
Subproceso: Tesorería
Módulo: Finanzas
4. Narrativa de Usuario
Quiero: Visualizar las cuentas por cobrar de cada cliente, junto con sus fechas de vencimiento, y poder registrar o aplicar pagos, anticipos y notas de crédito.
Para: Gestionar oportunamente las cobranzas, reducir la morosidad y reflejar correctamente los movimientos contables.
De manera que: Se optimice el flujo de caja y la información financiera del restaurante se mantenga precisa y actualizada.
5. Regla de Navegabilidad
Ruta: Menú Principal > Finanzas > Tesorería > Lista de Cuentas por Cliente y Control del Vencimiento
6. Criterios de Aceptación
El sistema debe mostrar una lista de todas las cuentas por cobrar por cliente, incluyendo facturas, letras, notas de débito y otros documentos emitidos.
Debe permitir filtrar la información por cliente, rango de fechas, estado del documento, moneda, sucursal y rango de vencimiento.
El usuario podrá realizar las siguientes acciones:
* Registrar Pago: Registrar un pago recibido (efectivo, cheque, transferencia, tarjeta, etc.) y aplicarlo a los documentos seleccionados.

* Aplicar Anticipo: Utilizar anticipos previamente registrados para cancelar o reducir el saldo de un documento.

* Aplicar Nota de Crédito: Aplicar una nota de crédito para disminuir el saldo pendiente del cliente.

* Consultar Detalle de Documento: Ver información contable y comercial de cada documento.

El sistema debe mostrar el monto total de la deuda del cliente, el total cobrado, el saldo pendiente y el monto vencido.
Debe generar automáticamente los asientos contables al registrar o aplicar pagos, anticipos o notas de crédito:
   * Débito: Caja o Banco / Cuentas por Cobrar – Anticipos

   * Crédito: Cuentas por Cobrar – Cliente

Debe permitir consultar el asiento contable asociado a cada transacción.
Toda acción debe registrarse en el log de auditoría contable (Usuario, Fecha, Hora, IP, Acción, Documento, Cliente).
Solo se mostrarán los datos correspondientes a la Razón Social y País activos en la sesión del usuario (solo lectura).
7. Campos del Reporte / Columnas de Vista Tabla
Columnas principales:

      * Cliente

      * Tipo de Documento (Factura, Nota de Débito, Letra, etc.)

      * Serie y Número de Documento

      * Fecha de Emisión

      * Fecha de Vencimiento

      * Monto Total

      * Monto Pagado

      * Saldo Pendiente

      * Monto Vencido

      * Moneda

      * Tipo de Cambio

      * Estado (Pendiente / Parcial / Cobrado / Vencido)

      * N° de Asiento Contable

      * Sucursal / Local

      * Observaciones

Filtros disponibles:
         * Cliente

         * Tipo de Documento

         * Estado del Documento

         * Rango de Fechas (Emisión / Vencimiento)

         * Moneda

         * Sucursal / Local

         * Rango de Días Vencidos

Acciones disponibles:
            * Registrar Pago

            * Aplicar Anticipo

            * Aplicar Nota de Crédito

            * Ver Detalle del Documento

            * Ver Asiento Contable

            * Exportar (Excel / PDF)

            * Filtrar / Limpiar Filtros

8. Detalle de Integración (opcional)
Integración con Contabilidad: Genera automáticamente los asientos contables de pagos, anticipos y notas de crédito aplicadas.
Integración con Ventas: Relaciona los pagos y notas de crédito con los documentos de venta emitidos.
Integración con Tesorería: Actualiza los saldos de caja y bancos al registrar los cobros.
Integración con Reportes Financieros: Actualiza indicadores de flujo de caja, antigüedad de saldos y rotación de cartera.
9. Consideraciones Técnicas
El sistema debe recalcular automáticamente los saldos de documentos al aplicar pagos, anticipos o notas de crédito.
Debe permitir registrar pagos en moneda local o extranjera, aplicando el tipo de cambio del día.
El sistema debe validar que los pagos o notas de crédito aplicadas no excedan el saldo pendiente del documento.
Las acciones de aplicación o eliminación deben requerir confirmación y permisos de usuario.
Cada transacción debe registrarse en el log de auditoría contable con: Usuario, Fecha, Hora, IP, Acción, Cliente, Documento, Monto.
Debe cumplir con las normas NIC 1, NIC 21 y NIIF 9, relacionadas con la presentación, diferencias de cambio y medición de instrumentos financieros.
10. Comentarios
Esta funcionalidad permite centralizar la información de cuentas por cobrar por cliente, facilitando el seguimiento y control de los vencimientos.
Optimiza el flujo de efectivo y mejora la toma de decisiones mediante un control eficiente de los cobros y anticipos.
Se recomienda incluir indicadores de gestión, tales como:
               * Total de cuentas por cobrar por cliente.

               * Porcentaje de documentos vencidos.

               * Promedio de días de cobro.

               * Monto total de anticipos y notas de crédito aplicadas.

Asimismo, se sugiere implementar alertas automáticas para documentos próximos a vencer y reportes periódicos de cobranza enviados a los responsables financieros.