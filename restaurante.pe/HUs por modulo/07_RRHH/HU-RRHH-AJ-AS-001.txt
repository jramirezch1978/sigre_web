HU-RRHH-AJ-AS-001 - Registro de Marcaciones desde POS, Biométrico o App Móvil con Geolocalización - v1.0
1. Título
 Registro de marcaciones desde POS, biométrico o app móvil; soporta geolocalización y tolerancias.
2. Descripción
 Como responsable de Recursos Humanos, quiero que el sistema registre las marcaciones de entrada y salida de los trabajadores desde diferentes dispositivos (POS, biométrico o aplicación móvil), con soporte para geolocalización y control de tolerancias, para garantizar una gestión precisa, segura y automatizada de la asistencia.
3. Proceso
 Proceso: Asistencia y Jornadas
Subproceso: Asistencias
Módulo: Recursos Humanos (RR.HH.)
4. Narrativa de Usuario
 Quiero: Registrar y centralizar las marcaciones de los trabajadores desde diferentes canales tecnológicos.
Para: Controlar la asistencia y puntualidad, asegurando la trazabilidad de los registros.
De manera que: Se puedan generar reportes exactos para el cálculo de horas trabajadas, sobretiempos y ausencias, sin intervención manual.
5. Regla de Navegabilidad
 Ruta: Menú Principal > RR.HH. > Asistencia y Jornadas > Asistencias > Registro de Marcaciones
6. Criterios de Aceptación
 El sistema debe permitir:
* Registrar automáticamente marcaciones de entrada, salida, refrigerio y retorno.

* Capturar marcaciones desde diferentes dispositivos: POS (punto de venta), equipos biométricos o aplicación móvil.

* Soportar geolocalización GPS para validar ubicación en el momento de la marcación móvil.

* Definir tolerancias de entrada y salida configurables por sede, cargo o turno.

* Validar marcaciones duplicadas o fuera de horario.

* Permitir sincronización automática de marcaciones en tiempo real o diferido (offline > online).

* Identificar tipo de dispositivo y origen de la marcación.

* Mostrar alertas o notificaciones de marcaciones fuera de rango o no registradas.

* Permitir ajustes manuales por personal autorizado (con trazabilidad).

* Registrar todas las acciones (creación, modificación, eliminación) en el log de auditoría contable y laboral.

* Generar reportes consolidados de asistencia, puntualidad y ausencias por trabajador, sede o canal.

7. Campos del Formulario / Columnas de Vista Tabla
 Campos principales:
   * ID / Código de Empleado

   * Nombre del Empleado

   * Fecha

   * Hora de Marcación

   * Tipo de Marcación (Entrada, Salida, Refrigerio, Retorno)

   * Dispositivo de Origen (POS, Biométrico, App Móvil)

   * Ubicación GPS / Dirección (si aplica)

   * Turno Programado

   * Diferencia vs. Hora Programada (Tolerancia)

   * Estado (A Tiempo, Retraso, Salida Anticipada, Sin Marcación)

   * Observaciones

   * Usuario que Registró / Modificó

Filtros disponibles:
      * Fecha o Rango de Fechas

      * Empleado / Cargo / Sede

      * Tipo de Marcación

      * Estado

      * Origen del Registro

Acciones disponibles:
         * Registrar Marcación Manual

         * Editar / Corregir Marcación (solo usuarios autorizados)

         * Ver Mapa (Geolocalización) - Debe permitir mostrar mediante un mapa la ubicación exacta donde se han realizado las marcaciones desde cualquiera de los dispositivos. 

         * Exportar Reporte (Excel / PDF)

         * Actualizar Marcaciones (Sincronización)

8. Detalle de Integración (opcional)
 Integración con:
            * Control de Asistencia: para consolidar marcaciones y generar reportes automáticos.

            * Módulo de Nómina: para calcular horas efectivas, extras y ausencias.

            * Calendarios Laborales: para aplicar feriados y turnos definidos por sede.

            * Dispositivos POS y Biométricos: para importar marcaciones automáticas vía API.

            * App Móvil de RR.HH.: para registrar asistencias geolocalizadas y validar identidad del usuario.

            * Log de Auditoría: para registrar acciones y modificaciones.

9. Consideraciones Técnicas
 El sistema debe:
               * Soportar conexión con múltiples dispositivos de marcación (biométricos, POS, app móvil).

               * Validar que las coordenadas GPS coincidan con la ubicación autorizada para el empleado.

               * Permitir la configuración de tolerancias personalizadas por turno o tipo de jornada.

               * Guardar información en tiempo real o almacenar temporalmente cuando no haya conexión (modo offline).

               * Permitir sincronización automática y control de integridad de datos.

               * Generar alertas en caso de inconsistencias o marcaciones fuera de rango.

               * Cumplir con normativas de privacidad y protección de datos personales (según país).

               * Mantener registro de usuario, fecha y hora en todas las transacciones.

10. Comentarios
 Esta funcionalidad garantiza la confiabilidad de los registros de asistencia mediante el uso de tecnologías modernas y seguras.
Contribuye a la reducción de fraudes o errores en el control de presencia y facilita la automatización de los procesos de nómina y gestión de tiempos.
Se recomienda la implementación de dashboards con indicadores de puntualidad, ausentismo y cumplimiento por sede o área, así como alertas automáticas ante anomalías detectadas.